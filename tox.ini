[tox]

envlist =
    py35
    py36

[testenv]

deps =

    # https://github.com/pypa/pip/issues/988
    # https://github.com/pradyunsg/zazo/issues/8
    pycodestyle < 2.4.0

    # https://github.com/pytest-dev
    pytest
    pytest-cov
    pytest-randomly

    # other
    pytest-flake8
    pytest-mypy
    pytest-pylint

    # https://github.com/PyCQA
    flake8-bugbear
    flake8-commas
    flake8-docstrings
    flake8-import-order
    pep8-naming

commands =
    ./setup.py check --metadata --strict
    python -m keysmith --version
    keysmith --help
    pytest --cov keysmith --cov-report term-missing --flake8 --mypy --pylint {posargs}
