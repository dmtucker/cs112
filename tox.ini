[tox]

envlist =
    py35
    py36

[testenv]

deps =

    # pytest-mypy 0.3.0 workaround for https://github.com/dbader/pytest-mypy/issues/6
    mypy < 0.570

    # https://github.com/pytest-dev
    flake8-bugbear
    flake8-commas
    flake8-docstrings
    flake8-import-order
    pep8-naming
    pytest
    pytest-cov
    pytest-randomly

    # other
    pytest-flake8
    pytest-mypy
    pytest-pydocstyle
    pytest-pylint

commands =
    ./setup.py check --metadata --strict
    python -m keysmith --version
    keysmith --help
    pytest --cov keysmith --cov-report term-missing --docstyle --flake8 --mypy --pylint {posargs}
